!function e(r,o,t){function a(s,i){if(!o[s]){if(!r[s]){var l="function"==typeof require&&require;if(!i&&l)return l(s,!0);if(n)return n(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=o[s]={exports:{}};r[s][0].call(c.exports,function(e){var o=r[s][1][e];return a(o?o:e)},c,c.exports,e,r,o,t)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<t.length;s++)a(t[s]);return a}({1:[function(e,r,o){"use strict";function t(e){$("html, body").animate({scrollTop:e.offset().top},{duration:1e3})}function a(){$("#submitButton").removeAttr("disabled"),$("#removeAllButton").removeAttr("disabled")}function n(){$("#submitButton").attr("disabled","disabled"),$("#removeAllButton").attr("disabled","disabled")}function s(){$(".file-progress").removeClass("file-progress--hidden"),$("#totalProgressBar").removeClass("dropzone-form__upload-progress--hidden")}function i(){$(".file-progress").addClass("file-progress--hidden"),$("#totalProgressBar").addClass("dropzone-form__upload-progress--hidden")}function l(e,r){var o=$("#formContainer");o.html(r.template),t(o)}function d(){$("fieldset").attr("disabled","disabled"),$("textarea[name=file-file_description]").attr("disabled","disabled"),$(".dropzone-template__remove-button").addClass("hidden"),$(".dropzone-form").addClass("hidden")}function c(){$("fieldset").removeAttr("disabled"),$("textarea[name=file-file_description]").removeAttr("disabled"),$(".dropzone-template__remove-button").removeClass("hidden"),$(".dropzone-form").removeClass("hidden")}function p(e){i();var r=e.errorsForm,o=e.errorsFile;console.log(r),console.log(o);for(var a in r)$("#dropzoneFormError").append('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><strong class="error">Error in field '+a+": "+r[a]+"</strong></div>");var n=!0,s=!1,l=void 0;try{for(var d,p=o[Symbol.iterator]();!(n=(d=p.next()).done);n=!0){var f=d.value;$("#dropzoneFormError").append('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><strong class="error">Error in file '+f.file_name+": "+f.error.file+"</strong></div>")}}catch(m){s=!0,l=m}finally{try{!n&&p["return"]&&p["return"]()}finally{if(s)throw l}}c(),t($("#dropzoneFormError"))}function f(e){var r=e.getErrorsMessages();"g-recaptcha-response"===e.$element.context.id?document.querySelector("#grecaptcha-required").style.display="":e.$element.siblings('[data-toggle="tooltip"]').removeClass("fa fa-check").addClass("fa fa-times").tooltip("destroy").tooltip({animation:!1,container:"body",placement:"top",title:r,trigger:"manual"}).tooltip("show").closest(".form-group").removeClass("has-success").addClass("has-error")}function m(e){"g-recaptcha-response"===e.$element.context.id?document.querySelector("#grecaptcha-required").style.display="none":e.$element.siblings('[data-toggle="tooltip"]').removeClass("fa fa-times").addClass("fa fa-check").tooltip("destroy").closest(".form-group").removeClass("has-error").addClass("has-success")}Dropzone.autoDiscover=!1;var u=$("#previewTemplate"),v=u.html();u.remove();var g=$("#dropzoneUpload").parsley();$.extend(g.options,{errorsContainer:function(e){return e.$element.siblings(".form-control-feedback").attr("title")},errorsWrapper:!1}),window.Parsley.on("field:error",function(e){f(e)}),window.Parsley.on("field:success",function(e){m(e)}),$("#id_accession-phone_number").attr("type","tel").attr("data-parsley-group","phone").attr("data-parsley-minlength","10");new Dropzone("#dropzoneUpload",{paramName:function(){return"file-file"},autoProcessQueue:!1,parallelUploads:100,createImageThumbnails:!0,thumbnailWidth:200,maxFiles:100,maxFilesize:4e3,uploadMultiple:!0,clickable:"#dropzoneClickable",previewsContainer:"#dropzonePreviews",previewTemplate:v,acceptedFiles:window.acceptedFileTypes,accept:function(e,r){e.size<1024?(e.previewElement.getElementsByClassName("error")[0].style.display="block",r("The file's size is too small. It will not be uploaded.")):r()},init:function(){var e=$("#submitButton"),r=$("#removeAllButton"),o=this;e.on("click",function(e){e.preventDefault(),e.stopPropagation(),g.validate()&&o.processQueue()}),r.on("click",function(){o.removeAllFiles(!0),t($("#formContainer"))}),this.on("dragover",function(){$("#formContainer").addClass("dropzone-form__drag-hover")}),this.on("dragleave",function(){$("#formContainer").removeClass("dropzone-form__drag-hover")}),this.on("dragend",function(){$("#formContainer").removeClass("dropzone-form__drag-hover")}),this.on("drop",function(){$("#formContainer").removeClass("dropzone-form__drag-hover")}),this.on("addedfile",function(e){if(a(),"image"!==e.type.slice(0,5)){var r=e.previewElement.getElementsByTagName("img")[0],o=r.parentNode,t=e.type.split("/")[0],n=document.createElement("i");$.inArray(e.type,Object.keys(acceptedFiles))>-1?n.className="fa fa-"+acceptedFiles[e.type]+" fa-5x":$.inArray(t+"/*",Object.keys(acceptedFiles))>-1?n.className="fa fa-"+acceptedFiles[t+"/*"]+" fa-5x":n.className="fa fa-file-o fa-5x",o.replaceChild(n,r)}}),this.on("totaluploadprogress",function(e){var r=$("#total-progress");r.width(e+"%"),100===e?r.text("Processing"):r.text(parseInt(e,10)+"%")}),this.on("reset",function(){n(),i()}),this.on("sendingmultiple",function(){d(),s(),t($("#formContainer"))}),this.on("successmultiple",function(e,r){r.success?l(e,r):p(r)}),this.on("errormultiple",function(e){e.forEach(function(e){e.previewElement.getElementsByClassName("error")[0].style.display="block"})})}})},{}]},{},[1]);
//# sourceMappingURL=scripts.min.js.map
